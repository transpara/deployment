global: 
  imagePullSecret: transpara-docker-secret
  imagePullPolicy: Always
  CONTAINER_HOST: localhost
  BASE_TSYSTEM_PATH: /tsystem

# tsystem-api volume
tSystemApiPv:
  name: tsystem-api-data
  storageClassName: local-path
  capacity: 1Gi
  accessModes:
    - ReadWriteOnce
  hostPath: "/transpara/data/volumes/tsystem-api-data"

tSystemApiPvc:
  name: tsystem-api-data-claim
  accessModes:
    - ReadWriteOnce
  storageClassName: local-path
  storage: 1Gi

# tsystem-cache volume
tSystemCachePv:
  name: tsystem-cache-data
  storageClassName: local-path
  capacity: 1Gi
  accessModes:
    - ReadWriteOnce
  hostPath: "/transpara/data/volumes/tsystem-cache-data"

tSystemCachePvc:
  name: tsystem-cache-data-claim
  accessModes:
    - ReadWriteOnce
  storageClassName: local-path
  storage: 1Gi


tSystemApi:
  name: tsystem-api
  serviceName: tsystem-api
  replicas: 1
  image:
    repository: transpara/tsystem
    tag: "kube-test-operator"
  ports:
    containerPort: 80
    servicePort: 80
    # nodePort: 30080
  volumeMount:
    name: tsystem-api-data
    mountPath: /app/database
  config:
    BASE_PATH: "/tsystem/api/v1"
    TSYSTEM_ID: "049f6ed7-e015-47cd-961c-8ae249cd412d"
    #TSYSTEM_NAME: "tsystem"
    #REDIS_PORT: "6379"
    #REDIS_HOST: "tsystem-cache"
    #TSYSTEM_PORT: "8000"
    USERNAME: "transpara"
    SSH_PORT: "22"
    #TSYSTEM_UI_PORT: "3010"
    DOCKER_FILE_BASE_PATH: "/transpara/deployment"
    DOCKER_FILE_TEMPLATE_PATH: "/transpara/deployment/template"

tSystemCache:
  name: tsystem-cache
  serviceName: tsystem-cache
  replicas: 1
  image: 
    repository: transpara/tcache
  ports:
    containerPort: 6379
    servicePort: 6379
  volumeMount:
    name: tsystem-cache-data
    mountPath: /data

tSystemUi:
  name: tsystem-ui
  serviceName: tsystem-ui
  replicas: 2
  image:
    repository: transpara/tsystem-ui
    tag: "kube-test"
  ports:
    containerPort: 3000
    servicePort: 3000
    # nodePort: 30081
  config:
    BASE_PATH: "/tsystem/ui"
